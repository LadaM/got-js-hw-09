{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-promises.js"],"sourcesContent":["'use strict';\nimport Notiflix from 'notiflix';\n\nconst form = document.querySelector('.form');\nconst submitButton = form.querySelector('button[type=\"submit\"]');\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  const success_msg = `✅ Fulfilled promise ${position} in ${delay}ms`;\n  const failure_msg = `❌ Rejected promise ${position} in ${delay}ms`;\n  if (shouldResolve) {\n    try {\n      Notiflix.Notify.success(success_msg);\n    } catch (error) {\n      console.log(error);\n    } finally {\n      console.log(success_msg);\n    }\n  } else {\n    try {\n      Notiflix.Notify.failure(failure_msg);\n    } catch (error) {\n      console.log(error);\n    } finally {\n      console.log(failure_msg);\n    }\n  }\n}\n\nsubmitButton.addEventListener('click', (event) => {\n  event.preventDefault();\n  const count = Number(form.elements.amount.value);\n  const delay = Number(form.elements.delay.value);\n  const step = Number(form.elements.step.value);\n  for (let i = 1; i <= count; i += 1) {\n    setTimeout(() => {\n      createPromise(i, delay + i * step);\n    }, delay + i * step);\n  }\n  form.reset();\n  submitButton.disabled = true;\n});\n\nconst inputs = [form.elements.delay, form.elements.step, form.elements.amount];\nconst checkInputs = () => {\n  let allFilled = true;\n  inputs.forEach((input) => {\n    if (input.value === '') {\n      allFilled = false;\n    }\n  });\n  submitButton.disabled = !allFilled;\n};\n\nform.addEventListener('input', checkInputs);\n"],"names":["form","submitButton","createPromise","position","delay","shouldResolve","success_msg","failure_msg","Notiflix","error","event","count","step","i","inputs","checkInputs","allFilled","input"],"mappings":"wIAGA,MAAMA,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAeD,EAAK,cAAc,uBAAuB,EAE/D,SAASE,EAAcC,EAAUC,EAAO,CACtC,MAAMC,EAAgB,KAAK,OAAM,EAAK,GAChCC,EAAc,uBAAuBH,CAAQ,OAAOC,CAAK,KACzDG,EAAc,sBAAsBJ,CAAQ,OAAOC,CAAK,KAC9D,GAAIC,EACF,GAAI,CACFG,EAAS,OAAO,QAAQF,CAAW,CACpC,OAAQG,EAAO,CACd,QAAQ,IAAIA,CAAK,CACvB,QAAc,CACR,QAAQ,IAAIH,CAAW,CACxB,KAED,IAAI,CACFE,EAAS,OAAO,QAAQD,CAAW,CACpC,OAAQE,EAAO,CACd,QAAQ,IAAIA,CAAK,CACvB,QAAc,CACR,QAAQ,IAAIF,CAAW,CACxB,CAEL,CAEAN,EAAa,iBAAiB,QAAUS,GAAU,CAChDA,EAAM,eAAc,EACpB,MAAMC,EAAQ,OAAOX,EAAK,SAAS,OAAO,KAAK,EACzCI,EAAQ,OAAOJ,EAAK,SAAS,MAAM,KAAK,EACxCY,EAAO,OAAOZ,EAAK,SAAS,KAAK,KAAK,EAC5C,QAASa,EAAI,EAAGA,GAAKF,EAAOE,GAAK,EAC/B,WAAW,IAAM,CACfX,EAAcW,EAAGT,EAAQS,EAAID,CAAI,CACvC,EAAOR,EAAQS,EAAID,CAAI,EAErBZ,EAAK,MAAK,EACVC,EAAa,SAAW,EAC1B,CAAC,EAED,MAAMa,EAAS,CAACd,EAAK,SAAS,MAAOA,EAAK,SAAS,KAAMA,EAAK,SAAS,MAAM,EACvEe,EAAc,IAAM,CACxB,IAAIC,EAAY,GAChBF,EAAO,QAASG,GAAU,CACpBA,EAAM,QAAU,KAClBD,EAAY,GAElB,CAAG,EACDf,EAAa,SAAW,CAACe,CAC3B,EAEAhB,EAAK,iBAAiB,QAASe,CAAW"}